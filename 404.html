<!-- 404.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
        // This script takes the current URL path and redirects to the homepage
        // while preserving the path information in sessionStorage
        const pathSegmentsToKeep = 0; // Set to 1 if your site is in a subdirectory like username.github.io/project
        
        const loc = window.location;
        const pathname = loc.pathname.replace(/^\//, '');
        const searchParams = loc.search;
        
        // Check if we need to redirect
        if (pathname !== '' && !pathname.includes('404.html')) {
            // Store the full path in sessionStorage
            const cleanPath = pathname.split('/').slice(pathSegmentsToKeep).join('/');
            const redirectPath = cleanPath + searchParams;
            sessionStorage.setItem('redirectPath', redirectPath);
            
            // Redirect to the homepage
            window.location.replace(
                loc.protocol + '//' + loc.hostname + 
                (loc.port ? ':' + loc.port : '') +
                loc.pathname.split('/').slice(0, pathSegmentsToKeep + 1).join('/') + '/'
            );
        }
    </script>
</head>
<body>
    <h1>Page not found</h1>
    <p>Redirecting to homepage...</p>
</body>
</html>